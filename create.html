<html>
    <body>
        <pre>
        -- Generated by Oracle SQL Developer Data Modeler 4.1.5.907
--   at:        2016-12-04 16:56:47 CET
--   site:      Oracle Database 11g
--   type:      Oracle Database 11g




CREATE TABLE CARD
  (
    Type     VARCHAR2 (128 BYTE) NOT NULL ,
    Discount INTEGER NOT NULL
  ) ;
ALTER TABLE CARD ADD CONSTRAINT CARD_PK PRIMARY KEY ( Type ) ;


CREATE TABLE CARDHOLDER
  (
    Address      VARCHAR2 (128 BYTE) NOT NULL ,
    Telephone    VARCHAR2 (128 BYTE) NOT NULL ,
    Email        VARCHAR2 (128 BYTE) NOT NULL ,
    MoneySpent   INTEGER ,
    CUSTOMER_CID INTEGER NOT NULL ,
    CARD_Type    VARCHAR2 (128 BYTE) NOT NULL
  ) ;
ALTER TABLE CARDHOLDER ADD CONSTRAINT CARDHOLDER_PK PRIMARY KEY ( CUSTOMER_CID ) ;


CREATE TABLE CD
  ( RID INTEGER NOT NULL , Format VARCHAR2 (128 BYTE)
  ) ;
ALTER TABLE CD ADD CONSTRAINT CD_PK PRIMARY KEY ( RID ) ;


CREATE TABLE CUSTOMER
  ( CID INTEGER NOT NULL , Name VARCHAR2 (128 BYTE)
  ) ;
ALTER TABLE CUSTOMER ADD CONSTRAINT CUSTOMER_PK PRIMARY KEY ( CID ) ;


CREATE TABLE DVD
  ( RID INTEGER NOT NULL , Format VARCHAR2 (128 BYTE)
  ) ;
ALTER TABLE DVD ADD CONSTRAINT DVD_PK PRIMARY KEY ( RID ) ;


CREATE TABLE EMPLOYEE
  (
    EID       INTEGER NOT NULL ,
    Name      VARCHAR2 (128 BYTE) NOT NULL ,
    Surname   VARCHAR2 (128 BYTE) NOT NULL ,
    BirthDate DATE ,
    Salary    INTEGER ,
    SHOP_SID  INTEGER NOT NULL
  ) ;
ALTER TABLE EMPLOYEE ADD CONSTRAINT EMPLOYEE_PK PRIMARY KEY ( EID ) ;


CREATE TABLE LITEM
  (
    Amount      INTEGER ,
    RECLIST_LID INTEGER NOT NULL ,
    RECORD_RID  INTEGER NOT NULL
  ) ;
ALTER TABLE LITEM ADD CONSTRAINT LITEM_PK PRIMARY KEY ( RECLIST_LID, RECORD_RID ) ;


CREATE TABLE MANAGER
  (
    EMPLOYEE_EID INTEGER NOT NULL ,
    SHOP_SID     INTEGER NOT NULL
  ) ;
CREATE UNIQUE INDEX MANAGER__IDX ON MANAGER
  (
    SHOP_SID ASC
  )
  ;
ALTER TABLE MANAGER ADD CONSTRAINT MANAGER_PK PRIMARY KEY ( EMPLOYEE_EID ) ;


CREATE TABLE OITEM
  (
    Amount     INTEGER ,
    RECORD_RID INTEGER NOT NULL ,
    ORDER_OID  INTEGER NOT NULL
  ) ;
ALTER TABLE OITEM ADD CONSTRAINT OITEM_PK PRIMARY KEY ( RECORD_RID, ORDER_OID ) ;


CREATE TABLE "ORDER"
  (
    OID          INTEGER NOT NULL ,
    "Date"       DATE NOT NULL ,
    ShipDate     DATE NOT NULL ,
    CUSTOMER_CID INTEGER NOT NULL
  ) ;
ALTER TABLE "ORDER" ADD CONSTRAINT ORDER_PK PRIMARY KEY ( OID ) ;


CREATE TABLE PITEM
  (
    Amount            INTEGER ,
    LITEM_RECLIST_LID INTEGER NOT NULL ,
    LITEM_RECORD_RID  INTEGER NOT NULL ,
    PURCHASE_PID      INTEGER NOT NULL
  ) ;
ALTER TABLE PITEM ADD CONSTRAINT PITEM_PK PRIMARY KEY ( LITEM_RECLIST_LID, LITEM_RECORD_RID, PURCHASE_PID ) ;


CREATE TABLE PURCHASE
  (
    PID          INTEGER NOT NULL ,
    "Date"       DATE NOT NULL ,
    Price        INTEGER NOT NULL ,
    CUSTOMER_CID INTEGER NOT NULL
  ) ;
ALTER TABLE PURCHASE ADD CONSTRAINT PURCHASE_PK PRIMARY KEY ( PID ) ;


CREATE TABLE RECLIST
  ( LID INTEGER NOT NULL , SHOP_SID INTEGER NOT NULL
  ) ;
CREATE UNIQUE INDEX RECLIST__IDX ON RECLIST
  (
    SHOP_SID ASC
  )
  ;
ALTER TABLE RECLIST ADD CONSTRAINT RECLIST_PK PRIMARY KEY ( LID ) ;


CREATE TABLE RECORD
  (
    RID    INTEGER NOT NULL ,
    Artist VARCHAR2 (128 BYTE) NOT NULL ,
    Album  VARCHAR2 (128 BYTE) NOT NULL ,
    YEAR   DATE ,
    Genre  VARCHAR2 (128 BYTE) ,
    Price  INTEGER NOT NULL
  ) ;
ALTER TABLE RECORD ADD CONSTRAINT RECORD_PK PRIMARY KEY ( RID ) ;


CREATE TABLE SHOP
  (
    SID       INTEGER NOT NULL ,
    Address   VARCHAR2 (128 BYTE) NOT NULL ,
    Telephone VARCHAR2 (128 BYTE)
  ) ;
ALTER TABLE SHOP ADD CONSTRAINT SHOP_PK PRIMARY KEY ( SID ) ;


CREATE TABLE VINYL
  ( RID INTEGER NOT NULL , Weight INTEGER , Speed INTEGER
  ) ;
ALTER TABLE VINYL ADD CONSTRAINT VINYL_PK PRIMARY KEY ( RID ) ;


ALTER TABLE CARDHOLDER ADD CONSTRAINT CARDHOLDER_CARD_FK FOREIGN KEY ( CARD_Type ) REFERENCES CARD ( Type ) ;

ALTER TABLE CARDHOLDER ADD CONSTRAINT CARDHOLDER_CUSTOMER_FK FOREIGN KEY ( CUSTOMER_CID ) REFERENCES CUSTOMER ( CID ) ;

ALTER TABLE CD ADD CONSTRAINT CD_RECORD_FK FOREIGN KEY ( RID ) REFERENCES RECORD
(
  RID ) ;

ALTER TABLE DVD ADD CONSTRAINT DVD_RECORD_FK FOREIGN KEY ( RID ) REFERENCES RECORD
(
  RID ) ;

ALTER TABLE EMPLOYEE ADD CONSTRAINT EMPLOYEE_SHOP_FK FOREIGN KEY ( SHOP_SID ) REFERENCES SHOP ( SID ) ;

ALTER TABLE LITEM ADD CONSTRAINT LITEM_RECLIST_FK FOREIGN KEY ( RECLIST_LID ) REFERENCES RECLIST ( LID ) ;

ALTER TABLE LITEM ADD CONSTRAINT LITEM_RECORD_FK FOREIGN KEY ( RECORD_RID ) REFERENCES RECORD
(
  RID ) ;

ALTER TABLE MANAGER ADD CONSTRAINT MANAGER_EMPLOYEE_FK FOREIGN KEY ( EMPLOYEE_EID ) REFERENCES EMPLOYEE ( EID ) ;

ALTER TABLE MANAGER ADD CONSTRAINT MANAGER_SHOP_FK FOREIGN KEY ( SHOP_SID ) REFERENCES SHOP ( SID ) ;

ALTER TABLE OITEM ADD CONSTRAINT OITEM_ORDER_FK FOREIGN KEY ( ORDER_OID ) REFERENCES "ORDER" ( OID ) ;

ALTER TABLE OITEM ADD CONSTRAINT OITEM_RECORD_FK FOREIGN KEY ( RECORD_RID ) REFERENCES RECORD
(
  RID ) ;

ALTER TABLE "ORDER" ADD CONSTRAINT ORDER_CUSTOMER_FK FOREIGN KEY ( CUSTOMER_CID ) REFERENCES CUSTOMER ( CID ) ;

ALTER TABLE PITEM ADD CONSTRAINT PITEM_LITEM_FK FOREIGN KEY ( LITEM_RECLIST_LID, LITEM_RECORD_RID ) REFERENCES LITEM ( RECLIST_LID, RECORD_RID ) ;

ALTER TABLE PITEM ADD CONSTRAINT PITEM_PURCHASE_FK FOREIGN KEY ( PURCHASE_PID ) REFERENCES PURCHASE ( PID ) ;

ALTER TABLE PURCHASE ADD CONSTRAINT PURCHASE_CUSTOMER_FK FOREIGN KEY ( CUSTOMER_CID ) REFERENCES CUSTOMER ( CID ) ;

ALTER TABLE RECLIST ADD CONSTRAINT RECLIST_SHOP_FK FOREIGN KEY ( SHOP_SID ) REFERENCES SHOP ( SID ) ;

ALTER TABLE VINYL ADD CONSTRAINT VINYL_RECORD_FK FOREIGN KEY ( RID ) REFERENCES RECORD
(
  RID ) ;


-- Oracle SQL Developer Data Modeler Summary Report: 
-- 
-- CREATE TABLE                            16
-- CREATE INDEX                             2
-- ALTER TABLE                             33
-- CREATE VIEW                              0
-- ALTER VIEW                               0
-- CREATE PACKAGE                           0
-- CREATE PACKAGE BODY                      0
-- CREATE PROCEDURE                         0
-- CREATE FUNCTION                          0
-- CREATE TRIGGER                           0
-- ALTER TRIGGER                            0
-- CREATE COLLECTION TYPE                   0
-- CREATE STRUCTURED TYPE                   0
-- CREATE STRUCTURED TYPE BODY              0
-- CREATE CLUSTER                           0
-- CREATE CONTEXT                           0
-- CREATE DATABASE                          0
-- CREATE DIMENSION                         0
-- CREATE DIRECTORY                         0
-- CREATE DISK GROUP                        0
-- CREATE ROLE                              0
-- CREATE ROLLBACK SEGMENT                  0
-- CREATE SEQUENCE                          0
-- CREATE MATERIALIZED VIEW                 0
-- CREATE SYNONYM                           0
-- CREATE TABLESPACE                        0
-- CREATE USER                              0
-- 
-- DROP TABLESPACE                          0
-- DROP DATABASE                            0
-- 
-- REDACTION POLICY                         0
-- 
-- ORDS DROP SCHEMA                         0
-- ORDS ENABLE SCHEMA                       0
-- ORDS ENABLE OBJECT                       0
-- 
-- ERRORS                                   0
-- WARNINGS                                 0
        </pre>
    </body>
</html>